{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1\\\\Desktop\\\\nextmovie\\\\pages\\\\data.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport axios from 'axios';\nimport cheerio from 'cheerio';\n\n// 豆瓣开源api https://api.douban.com/v2/movie/top250\nconst Data = () => {\n  const getData = url => {\n    axios.get(\"https://github.com/weiyinfu?tab=repositories\").then(resp => {\n      var $ = cheerio.load(resp.data);\n      var lis = $(\"#user-repositories-list li\");\n      var repos = [];\n\n      for (var i = 0; i < lis.length; i++) {\n        var li = lis.eq(i);\n        var repo = {\n          repoName: li.find(\"h3\").text().trim(),\n          repoUrl: li.find(\"h3 a\").attr(\"href\").trim(),\n          repoDesc: li.find(\"p\").text().trim(),\n          language: li.find(\"[itemprop=programmingLanguage]\").text().trim(),\n          star: li.find(\".muted-link.mr-3\").eq(0).text().trim(),\n          fork: li.find(\".muted-link.mr-3\").eq(1).text().trim(),\n          forkedFrom: li.find(\".f6.text-gray.mb-1 a\").text().trim()\n        };\n        repos.push(repo);\n      }\n\n      console.log(repos);\n    }); // axios.get(url).then(resp => {\n    //   var $ = cheerio.load(resp.data)\n    //   var lis = $(\"#grid_view li\")\n    //   var movies = []\n    //   for (var i = 0; i < lis.length; i++) {\n    //     var li = lis.eq(i)\n    //     var movie = {\n    //       name: li.find(\"[class=title]\").text().trim() || '',\n    //       img: li.find(\"img\").attr(\"src\") || '',\n    //       info: li.find(\"[class=inq\").text().trim() || ''\n    //     }\n    //     movies.push(movie)\n    //   }\n    //   console.log(movies)\n    // })\n  };\n\n  return __jsx(\"button\", {\n    onClick: () => getData(\"https://api.douban.com/v2/movie/top250\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, \"\\u70B9\\u51FB\");\n};\n\nexport default Data;","map":{"version":3,"sources":["C:/Users/1/Desktop/nextmovie/pages/data.tsx"],"names":["React","axios","cheerio","Data","getData","url","get","then","resp","$","load","data","lis","repos","i","length","li","eq","repo","repoName","find","text","trim","repoUrl","attr","repoDesc","language","star","fork","forkedFrom","push","console","log"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,SAApB;;AAGA;AACA,MAAMC,IAAc,GAAG,MAAM;AAE3B,QAAMC,OAAO,GAAIC,GAAD,IAAS;AACvBJ,IAAAA,KAAK,CAACK,GAAN,CAAU,8CAAV,EAA0DC,IAA1D,CAA+DC,IAAI,IAAI;AACvE,UAAIC,CAAC,GAAGP,OAAO,CAACQ,IAAR,CAAaF,IAAI,CAACG,IAAlB,CAAR;AACA,UAAIC,GAAG,GAAGH,CAAC,CAAC,4BAAD,CAAX;AACA,UAAII,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACG,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACjC,YAAIE,EAAE,GAAGJ,GAAG,CAACK,EAAJ,CAAOH,CAAP,CAAT;AACA,YAAII,IAAI,GAAG;AACPC,UAAAA,QAAQ,EAAEH,EAAE,CAACI,IAAH,CAAQ,IAAR,EAAcC,IAAd,GAAqBC,IAArB,EADH;AAEPC,UAAAA,OAAO,EAAEP,EAAE,CAACI,IAAH,CAAQ,MAAR,EAAgBI,IAAhB,CAAqB,MAArB,EAA6BF,IAA7B,EAFF;AAGPG,UAAAA,QAAQ,EAAET,EAAE,CAACI,IAAH,CAAQ,GAAR,EAAaC,IAAb,GAAoBC,IAApB,EAHH;AAIPI,UAAAA,QAAQ,EAAEV,EAAE,CAACI,IAAH,CAAQ,gCAAR,EAA0CC,IAA1C,GAAiDC,IAAjD,EAJH;AAKPK,UAAAA,IAAI,EAAEX,EAAE,CAACI,IAAH,CAAQ,kBAAR,EAA4BH,EAA5B,CAA+B,CAA/B,EAAkCI,IAAlC,GAAyCC,IAAzC,EALC;AAMPM,UAAAA,IAAI,EAAEZ,EAAE,CAACI,IAAH,CAAQ,kBAAR,EAA4BH,EAA5B,CAA+B,CAA/B,EAAkCI,IAAlC,GAAyCC,IAAzC,EANC;AAOPO,UAAAA,UAAU,EAAEb,EAAE,CAACI,IAAH,CAAQ,sBAAR,EAAgCC,IAAhC,GAAuCC,IAAvC;AAPL,SAAX;AASAT,QAAAA,KAAK,CAACiB,IAAN,CAAWZ,IAAX;AACH;;AACDa,MAAAA,OAAO,CAACC,GAAR,CAAYnB,KAAZ;AACH,KAlBG,EADuB,CAqBvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,GApCD;;AAqCA,SACE;AAAQ,IAAA,OAAO,EAAE,MAAMT,OAAO,CAAC,wCAAD,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF;AAKD,CA5CD;;AA8CA,eAAeD,IAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport cheerio from 'cheerio';\r\nimport { useState } from 'react';\r\n\r\n// 豆瓣开源api https://api.douban.com/v2/movie/top250\r\nconst Data: React.FC = () => {\r\n\r\n  const getData = (url) => {\r\n    axios.get(\"https://github.com/weiyinfu?tab=repositories\").then(resp => {\r\n    var $ = cheerio.load(resp.data)\r\n    var lis = $(\"#user-repositories-list li\")\r\n    var repos = []\r\n    for (var i = 0; i < lis.length; i++) {\r\n        var li = lis.eq(i)\r\n        var repo = {\r\n            repoName: li.find(\"h3\").text().trim(),\r\n            repoUrl: li.find(\"h3 a\").attr(\"href\").trim(),\r\n            repoDesc: li.find(\"p\").text().trim(),\r\n            language: li.find(\"[itemprop=programmingLanguage]\").text().trim(),\r\n            star: li.find(\".muted-link.mr-3\").eq(0).text().trim(),\r\n            fork: li.find(\".muted-link.mr-3\").eq(1).text().trim(),\r\n            forkedFrom: li.find(\".f6.text-gray.mb-1 a\").text().trim()\r\n        }\r\n        repos.push(repo)\r\n    }\r\n    console.log(repos)\r\n})\r\n\r\n    // axios.get(url).then(resp => {\r\n    //   var $ = cheerio.load(resp.data)\r\n    //   var lis = $(\"#grid_view li\")\r\n    //   var movies = []\r\n    //   for (var i = 0; i < lis.length; i++) {\r\n    //     var li = lis.eq(i)\r\n    //     var movie = {\r\n    //       name: li.find(\"[class=title]\").text().trim() || '',\r\n    //       img: li.find(\"img\").attr(\"src\") || '',\r\n    //       info: li.find(\"[class=inq\").text().trim() || ''\r\n    //     }\r\n    //     movies.push(movie)\r\n    //   }\r\n    //   console.log(movies)\r\n    // })\r\n  }\r\n  return (\r\n    <button onClick={() => getData(\"https://api.douban.com/v2/movie/top250\")}>\r\n      点击\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Data"]},"metadata":{},"sourceType":"module"}